#!/bin/bash

# Runs all steps needed to get ARQMath results for Tangent-s
# !! ASSUMES that the .cntl files to use are arqslt.cntl and arqopt.cntl
#    see README.txt for details about .cntl files.

#./arqmath-delete-index
# ./arqmath-delete-queries
# ./arqmath-index ../cntl/arqslt.cntl ../cntl/arqopt.cntl

# Run SLT and OPT queries
./arqmath-search ../cntl/arqslt.cntl
./arqmath-search ../cntl/arqopt.cntl

# Now rerank and combine OPT and SLT results.
./arqmath-search-rerank ../cntl/arqslt.cntl ../results/arqslt-results.tsv ../results/arqslt-reranked.tsv
./arqmath-search-rerank ../cntl/arqopt.cntl ../results/arqopt-results.tsv ../results/arqopt-reranked.tsv
./arqmath-search-combine ../results/arq-slt-opt-results.tsv ../cntl/arqslt.cntl ../results/arqslt-reranked.tsv \
	../cntl/arqopt.cntl ../results/arqopt-reranked.tsv

# done. Results are in arq-slt-opt-results.tsv
