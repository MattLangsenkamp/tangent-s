#!/bin/bash

# Runs all steps needed to get ARQMath results for Tangent-s
# !! ASSUMES that the .cntl files to use are arqslt.cntl and arqopt.cntl
#    see README.txt for details about .cntl files.

#./arqmath-delete-index
#./arqmath-delete-queries
#./arqmath-index arqslt.cntl arqopt.cntl

# Run SLT and OPT queries
./arqmath-search arqslt.cntl 
./arqmath-search arqopt.cntl

# Now rerank and combine OPT and SLT results.
./arqmath-search-rerank arqslt.cntl arqslt-results.tsv arqslt-reranked.tsv
./arqmath-search-rerank arqopt.cntl arqopt-results.tsv arqopt-reranked.tsv
./arqmath-search-combine arq-slt-opt-results.tsv arqslt.cntl arqslt-reranked.tsv \
	arqopt.cntl arqopt-reranked.tsv

# done. Results are in arq-slt-opt-results.tsv
